<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>DiscordJS #6</title>
  <link rel="shortcut icon" type="image/png" href="images/ico_full.png"/>
  <link rel="stylesheet" href="stylesheet/prism.css">
  <link rel="stylesheet" href="stylesheet/style.css">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css" integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP" crossorigin="anonymous">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
</head>
<body>

  <!-- Introduction -->
  <div class="banner" style="display: block !important; background-image: linear-gradient(rgba(0,0,0,0.5),rgba(0,0,0,0.5)), url('https://i.redd.it/gmyldjq35fy51.png');">
    <div id="class-languages">
      <i class="fab fa-html5 mr-1" style="color: #f84820"></i>
      <i class="fab fa-css3-alt mr-1" style="color: #1970b5"></i>
      <i class="fab fa-js-square mr-1" style="color: #FFE01B"></i>
    </div>
    <div class="container text-center">
      <div class="main">
        <img src="images/logo.png" alt="">
        <div class="class-title">
          <h1>DiscordJS<br> Fiche 6</h1>
        </div>
      </div>
      <p>Conna√Æs-tu Discord? Et les bots Discord? On peut les programmer en JavaScript gr√¢ce √† la librarie <b>DiscordJS</b>!</p>
      <a class="btn btn-primary tl-button" href="#challenge" role="button">Commencer !</a>
    </div>
  </div>

  <div class="container" id="challenge">

    <div class="accordion" id="accordionExample">

      <!-- √âtape 1 -->
      <div class="card">
        <div class="card-header" id="heading1">
          <h2 class="mb-0">
            <button class="btn btn-link done task" type="button" data-toggle="collapse" data-target="#collapse1" aria-expanded="false" aria-controls="collapse1">
              √âtape 1 - D√©fis √† compl√©ter avant
            </button>
          </h2>
        </div>
        <div id="collapse1" class="collapse show" aria-labelledby="heading1" data-parent="#accordionExample">
          <div class="card-body">
            <p>Avant d'entamer ce d√©fi, assure toi d'avoir d√©j√† fait ceux ci:</p>
            <ul>
              <li><a href="https://techieslab.github.io/DiscordJS-PingPong/">DiscordJS - Ping Pong</a></li>
              <li><a href="https://techieslab.github.io/DiscordJS-Commandes/">DiscordJS - Commandes</a></li>
              <li><a href="https://techieslab.github.io/DiscordJS-MentionsGifsPublish/">DiscordJS - Gifs, Mentions et Publication</a></li>
              <li><a href="https://techieslab.github.io/DiscordJS-EmbeddedWelcome/">DiscordJS - Embeds</a></li>
              <li><a href="https://techieslab.github.io/DiscordJS-ReactionsTimeout/">DiscordJS - Reacions et Timeouts</a></li>
            </ul>
            <p>Ensuite, assure-toi que tu sois bien connect√© √† ton compte <a href="https://repl.it">Repl.It</a>, et que tu aies ton projet de la fois pass√©e.</p>
          </div>
        </div>
      </div>

      <!-- √âtape 2 -->
      <div class="card">
        <div class="card-header" id="heading2">
          <h2 class="mb-0">
            <button class="btn btn-link task" type="button" data-toggle="collapse" data-target="#collapse2" aria-expanded="false" aria-controls="collapse2">
              √âtape 2 - Description du Challenge
            </button>
          </h2>
        </div>
        <div id="collapse2" class="collapse" aria-labelledby="heading2" data-parent="#accordionExample">
          <div class="card-body">
            <p>Notre challenge aujourd'hui est de cr√©er un bot avec une craie utilit√©. On a d√©j√† vu tous les outils n√©cessaires pour le cr√©er, donc tu devrais pouvoir y arriver!</p>

            <p>Notre bot sera un QuizBot. Tu peux aller cr√©er un nouveau bot sur le site d√©veloppeur de Discord. Si tu as oubli√© comment faire, tu peux revoir l'activit√© num√©ro 1.</p>

            <p>Ensuite, invite le au serveur. Donne lui toutes les permissions de la colonne du milieu, la colonne "Text Permissions". Finalement, il va te falloir cr√©er un nouveau Repl.it, et bien l'initialiser, de nouveau comme dans la premi√®re activit√©.</p>

            <pre><code class="language-js">
              const Discord = require('discord.js');
              const bot = new Discord.Client();

              bot.on('...', function() {
                // ...
              });

              bot.on('...', function() {
                // ...
              });

              bot.login("TOKEN");
            </code></pre>

            <p>Mais quel sera le but de notre bot? Bonne question! Notre bot va nous donner une question. On va alors devoir r√©pondre, et notre bot va mettre des r√©actions √† nos r√©ponses en fonction de si c'est la bonne r√©ponse ou non. On pourra m√™me ajouter d'autres fonctionalit√©s par apr√®s!</p>

            <p>Pour arriver √† bien coder ce QuizBot, on va explorer les commandes de base, les r√©ponses al√©atoires, les messages limit√©s √† un canal, les timeouts, les r√©actions, les embeds et autres.</p>

            <p>Pour ma part, mon bot va poser des question de maths. Fais en sorte que ton bot soit plus cr√©atif!</p>

            <p>Allons-y, on a du travail!</p>
          </div>
        </div>
      </div>

      <!-- √âtape 3 -->
      <div class="card">
        <div class="card-header" id="heading3">
          <h2 class="mb-0">
            <button class="btn btn-link task" type="button" data-toggle="collapse" data-target="#collapse3" aria-expanded="false" aria-controls="collapse3">
              √âtape 3 - Poser la question
            </button>
          </h2>
        </div>
        <div id="collapse3" class="collapse" aria-labelledby="heading3" data-parent="#accordionExample">
          <div class="card-body">
            <p>Notre bot va poser une question quand on enverra la commande <code>!math</code>. Fais d'abord en sorte qu'il r√©ponde simplement "Bonjour, Je suis MathBot".</p>

            <pre><code class="language-js">
              if ( /* contenu du message */ == '...' ) {
                /* r√©pondre au message */
              }
            </code></pre>

            <p>Mais notre bot devrait nous donner une question plut√¥t que de dire bonjour! Change la r√©ponse en une question.</p>

            <p>Par apr√®s, on remarque que c'est pas dr√¥le si la question est toujours la m√™me... Cr√©e une <b>liste</b> de questions, et envoie une question <b>al√©atoire</b></p>

            <pre><code class="language-js">
              const questions = ['...', '...', '...'];

              if ( /* contenu du message */ == '...' ) {
                /* envoyer r√©ponse al√©atoire */
              }
            </code></pre>
          </div>
        </div>
      </div>

      <!-- √âtape 4 -->
      <div class="card">
        <div class="card-header" id="heading4">
          <h2 class="mb-0">
            <button class="btn btn-link task" type="button" data-toggle="collapse" data-target="#collapse4" aria-expanded="false" aria-controls="collapse4">
              √âtape 4 - R√©pondre
            </button>
          </h2>
        </div>
        <div id="collapse4" class="collapse" aria-labelledby="heading4" data-parent="#accordionExample">
          <div class="card-body">
            <p>L'utilisateur va alors r√©pondre au message du bot en envoyer <code>!reponse 42</code>. Le bot va alors soit mettre un "‚úÖ" si c'est la bonne r√©ponse, sinon un "‚ùå".</p>

            <p>Pour v√©rifier si un message commence par une commande, on fait ceci:</p>

            <pre><code class="language-js">
              const msg_sep = msg.split(" ");

              if ( /* premier mot de msg_sep */ == /* commande √† v√©rifier */ ) {
                // ...
              }
            </code></pre>

            <p>Mais pour pouvoir v√©rifier si la r√©ponse est correcte, il faut que tu te souvienne de la r√©ponse. Lorsque tu poses la question, tu g√©n√©res un nombre al√©atoire qui est l'indice de la question. Tu dois stocker ce nombre dans une variable <b>globale</b> pour pouvoir la r√©utiliser lorsque tu checkes la r√©ponse!</p>

            <pre><code class="language-js">
              let indice = 0;

              bot.on('message', function(msg) {
                const questions = // ...
                const reponses = // ...

                if ( /* contenu */ == '!math' ) {
                  // Poser une question al√©atoires
                  const random = Math.floor ( /* etc */ );
                  msg.reply( questions[random] );

                  // Changer indice
                  indice = random;
                }
                if ( /* contenu commence par !reponse */ ) {
                  /* Checker si la r√©ponse est la m√™me que reponses[indice] (Bonne reponse) */
                }
              })
            </code></pre>

            <p>Finalement, si c'est la bonne r√©ponse, tu dois r√©agir avec un ‚úÖ (Ou dans le style), sinon un ‚ùå. Pour r√©agir, on utilise</p>

            <pre><code class="language-js">
              msg.react("üëÅ‚Äçüó®");
            </code></pre>
          </div>
        </div>
      </div>

      <!-- √âtape 5 -->
      <div class="card">
        <div class="card-header" id="heading5">
          <h2 class="mb-0">
            <button class="btn btn-link task" type="button" data-toggle="collapse" data-target="#collapse5" aria-expanded="false" aria-controls="collapse5">
              √âtape 5 - D√©fis en plus
            </button>
          </h2>
        </div>
        <div id="collapse5" class="collapse" aria-labelledby="heading5" data-parent="#accordionExample">
          <div class="card-body">
            <p>Tu peux mettre une limite au temps autoris√© pour une question. Par example, au bout de 1 minutes, le bot va donner la r√©ponse. Pour ce faire, on utilise des <code>timeout</code>!</p>

            <pre><code class="language-js">
              setTimeout(function() {
                // ...
              }, /* Temps en millisecondes */)
            </code></pre>

            <p>Tu peux, par exemple, lui faire envoyer un embed quand le temps est √©croul√© avec la r√©ponse. Ici, tu peux de nouveau faire une liste d'embeds, comme pour les r√©ponses.</p>

            <pre><code class="language-js">
              const embed1 = /* Premier embed */
              const embed2 = /* Second embed */
              const embed3 = /* Troisi√®me embed */

              const listeEmbeds = [embed1, embed2, embed3];
            </code></pre>

            <p>Apr√®s, limite ton bot √† un canal sp√©cifique. Normalement, ton animateur aura cr√©√© un canal speecifique pour les Quiz.</p>

            <p>Aussi, essaye de faire en sorte que, lorsque quelqu'un trouve la r√©ponse, le bot envoie directement l'embed au lieu d'attendre.</p>

            <p>Finalement, fait un compteur du nombre de personnes qui ont essay√© la question! Tu peux l'envoyer quand quelqu'un a trouv√© la r√©ponse, avec une mention "Bravo, tu as battu [102] personnes". Pour ce faire, tu aura de nouveau besoin d'une variable <b>globale</b>.</p>
          </div>
        </div>
      </div>

    </div> 
  </div>



  <div class="footer">
    <div class="footer-links">
      <a href="https://techieslab.be/"><i class="fas fa-globe"></i></i></a>
      <a href="https://www.facebook.com/TechiesLabBrussels"><i class="fab fa-facebook"></i></a>
      <a href="https://www.linkedin.com/company/techies-lab/"><i class="fab fa-linkedin"></i></a>
      <a href="https://twitter.com/TechiesLab"><i class="fab fa-twitter"></i></a>
      
    </div>
    <div class="footer-copyright">
      <a href="https://techieslab.be" rel="noopener noreferrer" target="_blank" class="alert-link copyright">
        <i class="far fa-copyright"></i>
        2021 Techies Lab ASBL. All rights reserved.
      </a>
    </div>
  </div>
<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
<script src="javascript/prism.js"></script>
</body>
</html>
